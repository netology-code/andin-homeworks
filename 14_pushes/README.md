# Домашнее задание к занятию «15. Рассылка и приём push-уведомлений»

Выполненное задание прикрепите ссылкой на ваши GitHub-проекты в личном кабинете студента на сайте [netology.ru](https://netology.ru).

**Важно**: ознакомьтесь со ссылками на главной странице [репозитория с домашними заданиями](../README.md).

**Важно**: если у вас что-то не получилось, оформите Issue. [Шаблон для оформления](../report-requirements.md).

## Как сдавать задачи

1. Откройте ваш проект Android-приложения с предыдущего ДЗ (можете брать код из лекции).
1. Сделайте необходимые коммиты.
1. Сделайте пуш. Удостоверьтесь, что ваш код появился на GitHub.
1. Ссылку на ваш проект отправьте в личном кабинете на сайте [netology.ru](https://netology.ru).
1. Выполните все задачи, чтобы получить зачёт по теме.

## Задача №1. RecipientId

**Важно**: не забудьте добавить в сервер и клиента нужные файлы (см. лекцию). А также добавьте их в `.gitignore`.

### Описание

Реализуйте на клиентской стороне при получении push-уведомления проверку `recipientId`. Сервер будет присылать вам его в Push'.

Для этого сравнивайте полученный `recipientId` с тем, что хранится у вас в `AppAuth`, и выполняйте одно из действий:
* если `recipientId` = тому, что в `AppAuth`, то всё ok, показываете `Notification`;
* если `recipientId` = 0 (и не равен вашему), сервер считает, что у вас анонимная аутентификация и вам нужно переотправить свой push token;
* если `recipientId` != 0 (и не равен вашему), значит сервер считает, что на вашем устройстве другая аутентификация и вам нужно переотправить свой push token;
* если `recipientId` = null, то это массовая рассылка, показываете `Notification`.

Для тестирования отправляйте запрос вида:

```http request
POST http://localhost:9999/api/pushes?token=<put your token here>
Content-Type: application/json

{
  "recipientId": null,
  "content": "Wow!"
}
```

Используйте для этого любое средство: Postman, cURL или любое другое, включая OkHttp, которые мы рассматривали на лекции.

### Результат

Опубликуйте изменения в виде Pull Request в вашем проекте на GitHub.

Результат пришлите ссылкой на PR GitHub-проект в личном кабинете студента на сайте [netology.ru](https://netology.ru).
